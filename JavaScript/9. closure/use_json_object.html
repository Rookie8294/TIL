<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" type="text/css" href="http://localhost/html_prj/common/CSS/main_v20230906.css" />
<style type="text/css">

</style>
<script type="text/javascript">
    window.onload=function(){
        document.getElementById("btn").addEventListener("click", useJsonObject );

        
        document.getElementById("btn1").addEventListener("click", setValue);
        document.getElementById("btn2").addEventListener("click", printValue);
    }//onload
    
    var jsonArr = [];

    function setValue(){
        var obj = document.frm2;

        console.log(jsonArr.length);
        var name = obj.name.value;
        var age = obj.age.value;
        var hobbyArr = obj.hobby
    
        jsonArr[jsonArr.length].name = name;

        console.log(jsonArr[0].name);
        jsonArr[jsonArr.length].age = age;
        jsonArr[jsonArr.length].hobby = hobbyArr;

    }//setValue

    function printValue(){
        var obj = document.frm2;

        var output = "";

        for( var i = 0; i<jsonArr.length; i++){
            jsonObj = jsonArr[i];

            output += jsonObj.name + "/";
            console.log( jsonObj.name);
            output += jsonObj.age + "/";
            
            for( var j = 0; j< jsonObj.hobby.length; j++){
                if( jsonObj.hobby[j].checked){
                    output+= jsonObj.hobby[j];
                }//end if
            }//end for
            
        }//end for

        obj.output.value= output;

        

    }//printValue


    function useJsonObject(){
        //1.JSONObject선언
        //2.JSONArray를 선언
        //3.JSONArray를 JSONObject 추가
        var jsonObj = {name : "홍찬영", age:26,
                                trip:[
                                    {day: "1일차", schedule: "술마심"},
                                    {day:"2일차", schedule: "디즈니랜드"},
                                    {day: "3일차", schedule: "아키아바라"}
                                ]
                            };                                                        

        //4.사용
        var obj = document.frm;
        obj.name.value = jsonObj.name;
        obj.age.value = jsonObj.age;

        var data = "";
        var jsonArr=jsonObj.trip;
        var jsonTripData;
        for( var i=0; i<jsonArr.length; i++){
            jsonTripData = jsonArr[i];
            data += jsonTripData.day + " - " + jsonTripData.schedule+"\n";
        }//end for

        obj.tripInfo.value = data;

    }//useJsonObject

</script>

</head>
<body>
    <input type="button" value="사용" class="btn" id="btn" />
    <form name="frm">
        <label>이름</label><input type="text" name="name" class="inputBox" /><br>
        <label>나이</label><input type="text" name="age" class="inputBox" /><br>
        <textarea name="tripInfo" class="inputBox" style="width: 300px; height: 100px;"></textarea>

    </form>

    <div>
        <form name="frm2">
            <label>이름</label><input type="text" name="name" class="inputBox">
            <label>나이</label><input type="text" name="age" class="inputBox">
            <label>취미</label>
            <input type="checkbox" name="hobby" value="게임"/>게임
            <input type="checkbox" name="hobby" value="등산"/>등산
            <input type="checkbox" name="hobby" value="축구"/>축구
            <input type="checkbox" name="hobby" value="독서"/>독서

            <input type="button" value="값설정" class="btn" id="btn1" />
            <input type="button" value="값출력" class="btn" id="btn2" />
        </form>
        <div id="output"></div>
    </div>
</body>
</html>