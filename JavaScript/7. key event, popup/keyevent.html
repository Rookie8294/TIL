<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" type="text/css" href="http://localhost/html_prj/common/CSS/main_v20230906.css" />
<style type="text/css">
    textarea{ width:300px; height:100px;}

</style>
<script type="text/javascript">
window.onload=function(){
    document.getElementById("kd").addEventListener("keydown", setKeyEvt);
    document.getElementById("ku").addEventListener("keyup", setKeyEvt2);

    document.getElementById("msg").addEventListener("keyup", plus);
}//onload

function setKeyEvt( evt ){// 매개변수를 정의하면 JS에서 생성된 window.event객체를 할당해준다.
    //keydown은 키가 눌리는 순간 동작하기 때문에 keytext는 가지고 올 수 없다.
    var data = document.getElementById("kd").value;
    document.getElementById("output").value="키눌림" + data + "(" + evt.keyCode + ")";
}//setKeyEvt
function setKeyEvt2( evt2 ){
    //keyup은 키가 올라오는 순간에 동작하기 때문에 keycode와 keytext를 몯 가져올 수 있따.
    var data = document.getElementById("ku").value;
    document.getElementById("output").value="키올라옴" + data + "(" + evt2.which + ")";
}//setKeyEvt2


function plus( evt3 ){
    var textA = document.getElementById("msg")
    var leng = document.getElementById("msg").value.length;

    if( leng >= 301){
        textA.value = textA.value.substring(0, 301)
        alert( "300글자 초과");
        return;
    }
    
    document.getElementById("text_length").innerText = leng;
    
    
}

</script>

</head>
<body>
    <input type="text" name="kd" class="btn" id="kd"/><br/>
    <input type="text" name="ku" class="btn" id="ku"/><br/>
    <textarea id="output" class="inputBox"></textarea>
    <div style="width:400px; height:300px;">
        <textarea id="msg" class="inputBox" style="width:400px"></textarea>
        <span id="text_length">0</span>/300
        <!-- 글자수 : <input type="text" id="txt_size" class="inputBox" style="" readonly /> -->
    </div>
</body>
</html>